import{jsx as t,Fragment as a,jsxs as o}from"react/jsx-runtime";import{useState as r}from"react";import e from"@emotion/styled";import i from"@tippyjs/react";import{Global as n,css as p}from"@emotion/react";const l=["f44336","e91e63","9c27b0","673ab7","3f51b5","2196f3","009688","ffc107","ff9800","ff5722","795548"];function s(t,a=l){let o=0,r=t.length;for(let a=0;a<r;a++)o=(o<<5)-o+t.charCodeAt(a),o|=0;return a[Math.abs(o)%a.length]}function d(t){Array.from(t.entries()).forEach(([a,o])=>{""===o&&t.delete(a)})}const c={1:"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)",2:"0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)",3:"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)",4:"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)",5:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)"},x="\nobject-fit: cover;\nopacity: 1;\nuser-select: none;\nuser-drag: none;\ndisplay: inline-block;\nmargin-left: -10px;\nposition: relative;\n";let b;const f=e.img(b||(b=(t=>t)`
    height: ${0}px;
    width: ${0}px;
    transition: margin-left ${0}, opacity ${0}, width ${0};
    border-radius: ${0};
    box-shadow: ${0};
    ${0}
`),t=>t.size,t=>t.size,".2s ease-in-out",".2s ease-in-out",".2s ease-in-out",t=>t.square?"0px":"50%",t=>t.shadow?c[t.shadow]:"none",x);function g({avatar:a,options:o,hidden:r,onClick:e}){const n=o.size||25;if("string"==typeof a){const p=new URLSearchParams({size:""+2*n,name:a,"font-size":`${o.fontSize||.66}`,color:o.fontColor||"FFFFFF",background:o.backgroundColor||s(a,o.randomBackgroundColors),bold:o.bold?"true":"",uppercase:o.uppercase?"":"false",length:o.initialCharacters?`${o.initialCharacters}`:"",rounded:o.square?"false ":""});return d(p),t(i,Object.assign({content:a,arrow:o.tooltipArrow,disabled:o.hideTooltip},{children:t(f,{draggable:"false",alt:`ui-avatar-${a}`,src:`https://ui-avatars.com/api/?${p.toString()}`,size:n,square:!!o.square,shadow:o.shadow,style:o.avatarStyle,className:r?"hidden":"",onClick:e},void 0)}),void 0)}{const p=new URLSearchParams({size:""+2*n,name:a.avatar,"font-size":`${a.fontSize||o.fontSize||.66}`,color:a.fontColor||o.fontColor||"FFFFFF",background:a.backgroundColor||o.backgroundColor||s(a.avatar,o.randomBackgroundColors),bold:o.bold?"true":"",uppercase:o.uppercase?"":"false",length:o.initialCharacters?`${o.initialCharacters}`:"",rounded:o.square?"false ":""});return d(p),t(i,Object.assign({content:a.tooltip||a.avatar,arrow:o.tooltipArrow,disabled:o.hideTooltip},{children:t(f,{draggable:"false",alt:`ui-avatar-${a.avatar}`,src:`https://ui-avatars.com/api/?${p.toString()}`,size:n,square:!!o.square,shadow:o.shadow,style:a.style||o.avatarStyle,className:r?"hidden":"",onClick:e},void 0)}),void 0)}}let h;const m=e.img(h||(h=(t=>t)`
    height: ${0}px;
    width: ${0}px;
    transition: margin-left ${0}, opacity ${0}, width ${0};
    border-radius: ${0};
    box-shadow: ${0};
    border: 2px solid #${0};
    ${0}
`),t=>t.size-4,t=>t.size-4,".2s ease-in-out",".2s ease-in-out",".2s ease-in-out",t=>t.square?"0px":"50%",t=>t.shadow?c[t.shadow]:"none",t=>t.backgroundColor,x);function u({avatar:a,options:o,hidden:r}){const e=o.size||25,i=o.fontColor||o.backgroundColor||s(a,o.randomBackgroundColors);let n=o.fontSize||.66;3===a.length?(!o.fontSize||o.fontSize>.42)&&(n=.42):a.length>3&&(!o.fontSize||o.fontSize>.32)&&(n=.32);const p=new URLSearchParams({size:""+2*e,name:a,"font-size":`${n}`,color:i,background:"FFFFFF",bold:o.bold?"true":"",uppercase:o.uppercase?"":"false",length:"5",rounded:o.square?"false ":""});return d(p),t(m,{draggable:"false",alt:`ui-avatar-${a}`,src:`https://ui-avatars.com/api/?${p.toString()}`,size:e,square:!!o.square,shadow:o.shadow,style:o.avatarStyle,className:r?"overflow-hidden":"",backgroundColor:i},void 0)}let v,y=t=>t;var w=({tooltipStyle:a})=>t(n,{styles:p(v||(v=y`
    .tippy-box[data-animation="fade"][data-state="hidden"] {
        opacity: 0;
    }
    [data-tippy-root] {
        max-width: calc(100vw - 10px);
    }
    .tippy-box {
        position: relative;
        background-color: rgba(97, 97, 97, 0.92);
        color: #fff;
        border-radius: 4px;
        font-size: 0.6875rem;
        max-width: 300px;
        margin: 2px;
        word-wrap: break-word;
        font-weight: 500;
        outline: 0;
        transition-property: transform, visibility, opacity;
        ${0}
    }
    .tippy-box[data-placement^="top"] > .tippy-arrow {
        bottom: 0;
    }
    .tippy-box[data-placement^="top"] > .tippy-arrow:before {
        bottom: -7px;
        left: 0;
        border-width: 8px 8px 0;
        border-top-color: initial;
        transform-origin: center top;
    }
    .tippy-box[data-placement^="bottom"] > .tippy-arrow {
        top: 0;
    }
    .tippy-box[data-placement^="bottom"] > .tippy-arrow:before {
        top: -7px;
        left: 0;
        border-width: 0 8px 8px;
        border-bottom-color: initial;
        transform-origin: center bottom;
    }
    .tippy-box[data-placement^="left"] > .tippy-arrow {
        right: 0;
    }
    .tippy-box[data-placement^="left"] > .tippy-arrow:before {
        border-width: 8px 0 8px 8px;
        border-left-color: initial;
        right: -7px;
        transform-origin: center left;
    }
    .tippy-box[data-placement^="right"] > .tippy-arrow {
        left: 0;
    }
    .tippy-box[data-placement^="right"] > .tippy-arrow:before {
        left: -7px;
        border-width: 8px 8px 8px 0;
        border-right-color: initial;
        transform-origin: center right;
    }
    .tippy-box[data-inertia][data-state="visible"] {
        transition-timing-function: cubic-bezier(0.54, 1.5, 0.38, 1.11);
    }
    .tippy-arrow {
        width: 16px;
        height: 16px;
        color: ${0};
    }
    .tippy-arrow:before {
        content: "";
        position: absolute;
        border-color: transparent;
        border-style: solid;
    }
    .tippy-content {
        position: relative;
        padding: 4px 8px;
        z-index: 1;
    }
`),a&&p(a),a&&a.backgroundColor?a.backgroundColor:"rgba(97, 97, 97, 0.92)")},void 0);let C;const $=e.div(C||(C=(t=>t)`
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    & img:first-of-type {
        margin-left: 3px;
    }
    &:hover img:nth-of-type(n+2) {
        margin-left: 3px;
    }
    &:hover .overflow-hidden {
        opacity: 0;
    }
    &:not(:hover) .hidden {
        opacity: 0;
        width: 0;
        margin-left: 0;
    }
`));function k(e){const[i,n]=r(!1);return 0===e.avatars.length?t(a,{},void 0):o($,e.max&&e.avatars.length>e.max?e.displayAllOnHover?Object.assign({style:e.style,onMouseEnter:t=>n(!0),onMouseLeave:t=>n(!1)},{children:[e.avatars.map((a,o)=>t(g,{avatar:a,options:e,hidden:o>=e.max,onClick:t=>e.onAvatarClick&&e.onAvatarClick(a,o)},"avatar-max-"+o)),t(u,{avatar:"+"+(e.avatars.length-e.max),options:e,hidden:i},"avatar-overflow"),!e.hideTooltip&&t(w,{tooltipStyle:e.tooltipStyle},void 0)]}):Object.assign({style:e.style},{children:[e.avatars.slice(0,e.max).map((a,o)=>t(g,{avatar:a,options:e,onClick:t=>e.onAvatarClick&&e.onAvatarClick(a,o)},"avatar-max-"+o)),t(u,{avatar:"+"+(e.avatars.length-e.max),options:e},"avatar-overflow"),!e.hideTooltip&&t(w,{tooltipStyle:e.tooltipStyle},void 0)]}):Object.assign({style:e.style},{children:[e.avatars.map((a,o)=>t(g,{avatar:a,options:e,onClick:t=>e.onAvatarClick&&e.onAvatarClick(a,o)},"avatar-nomax-"+o)),!e.hideTooltip&&t(w,{tooltipStyle:e.tooltipStyle},void 0)]}),void 0)}export{k as default};
//# sourceMappingURL=index.modern.js.map
